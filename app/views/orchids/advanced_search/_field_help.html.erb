
  <h4>Directives</h4>
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: '',
     description: "Default search is the same as taxon: search"},
    {field_name: 'taxon:',
     description: "search on taxon from the CSV, case-insensitive, trailing wildcard added automatically"},
    {field_name: 'taxon-no-wildcard:',
     description: "as for taxon:, but no automatic trailing wildcard"},
    {field_name: 'taxon-with-syn:',
     description: "as for taxon-no-wildcard, but attached synonyms are listed"},
    {field_name: 'id:',
     description: "search on the id from the CSV file"},
    {field_name: 'ids:',
     description: "search on CSV ids in comma-separated list"},
    {field_name: 'id-with-syn:',
     description: "match on a single id from the CSV file, then show any associated synonyms"},
    {field_name: 'has-parent:',
     description: "match only if parent exists in the CSV file"},
    {field_name: 'has-no-parent:',
     description: "match only if no parent in the CSV file"},
    {field_name: 'notes:',
     description: "match on the notes field - case-insensitive, leading and trailing wildcards added automatically"},
    {field_name: 'rank:',
     description: "match on the rank field - case-insensitive"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>

  <h4>Record Type Directives or Similar</h4>
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: 'is-accepted:',
     description: "match only CSV data with record type 'accepted'"},
    {field_name: 'is-syn:',
     description: "match only CSV data with record type 'synonym'"},
    {field_name: 'is-misapplied:',
     description: "match only CSV data with record type 'misapplied'"},
    {field_name: 'is-hybrid-cross:',
     description: "match only CSV data with record type 'hybrid-cross'"},
    {field_name: 'is-isonym:',
     description: "match records with any value in the isonym field"},
    {field_name: 'is-orth-var:',
     description: "match records with a name status value starting with 'orth'"},
    {field_name: 'is-doubtful:',
     description: "match records with a value in the doubtful column"},
    {field_name: 'is-not-doubtful:',
     description: "match records with no value in the doubtful column"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>

  <h4>Name Matching Directives</h4>
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: 'no-name-match:',
     description: "match only on CSV data with no matching NSL name"},
    {field_name: 'some-name-match:',
     description: "match only on CSV data with at least one matching NSL name"},
    {field_name: 'many-name-match:',
     description: "match only on CSV data with more than 1 matching NSL name"},
    {field_name: 'one-name-match:',
     description: "match only on CSV data with exactly one matching NSL name"},
    {field_name: 'name-match-eq:',
     description: "match only on CSV data with a number of matching NSL names equal to the supplied number"},
    {field_name: 'name-match-gt:',
     description: "match only on CSV data with a number of matching NSL names greater than the supplied number"},
    {field_name: 'name-match-gte:',
     description: "match only on CSV data with a number of matching NSL names greater than or equal to the supplied number"},
    {field_name: 'name-match-no-primary:',
     description: "match only on CSV data with at least one matching NSL name that has no primary instance"},
    {field_name: 'taxon-sharing-name-id:',
     description: "match only on CSV data orchid that shares a preferred name ID with at least one other CSV data orchid"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>

  <h4>Some More Interesting Directives</h4>
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: 'partly:',
     description: "match only on CSV data where the partly field has any data in it, which is uniformly 'p.p.' - it's essentially a flag where p.p. means true"},
    {field_name: 'not-partly:',
     description: "match only on CSV data where the partly field has no data"},
    {field_name: 'name-status:',
     description: "match fragment on the name status field (leading and trailing wildcards added automatically)"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>

  <h4>Two little beauties for checking your progress</h4>
  Use these alone for an overview, or in combination with other search directives to drill into progress - see query examples.
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: 'has-preferred-name:',
     description: "match only on CSV taxon data where the preferred name ID has been set"},
    {field_name: 'has-no-preferred-name:',
     description: "match only on CSV taxon data where the preferred name ID has NOT been set"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>

  <h4>Hybrid-related queries</h4>
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: 'original-text-has-Ã—:',
     description: "original text includes a cross symbol"},
    {field_name: 'original-text-has-x:',
     description: "original text includes a cross symbol (directive has an ex character)"},
    {field_name: 'hybrid-level:',
     description: "hybrid_level matches"},
    {field_name: 'hybrid-level-has-value:',
     description: "hybrid_level isn't empty i.e. has some value, any value"},
    {field_name: 'hybrid-level-has-no-value:',
     description: "hybrid_level field is empty"},
    {field_name: 'hybrid:',
     description: "matches on the hybrid field, which holds an id"},
    {field_name: 'hybrid-has-value:',
     description: "hybrid has a value, any value"},
    {field_name: 'hybrid-has-no-value:',
     description: "hybrid has no value"},
    {field_name: 'alt-taxon-for-matching:',
     description: "searches on the alternative taxon"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>

  <h4>Processing queries</h4>
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: 'no-further-processing:',
     description: "flag to prevent any further processing has been set"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>


  <h4>Metadata queries</h4>
<table class="table table-striped">
  <tr><th>Field</th><th>Description</th></tr>
  <% [
    {field_name: 'created-by:',
     description: "match on created by field"},
    {field_name: 'updated-by:',
     description: "match on updated by field"},
    {field_name: 'not-created-by:',
     description: "non-match on created by field"},
    {field_name: 'not-created-by-batch:',
     description: "records note created by batch"},
      ].each do |val| %>
  <tr>
    <td class="width-20-percent">
      <a href="javascript:void(0)" class="xyz searchable-field width-100-percent" title='Add "<%= val[:field_name] %>" field to search.'>
        <span class="blue"><%= val[:field_name] %></span>
      </a>
    </td>
    <td><%= val[:description].html_safe %></td>
    <% if val[:partial].present? %>
      <td><%= render partial: val[:partial] %></td>
    <% else %>
      <td></td>
    <% end %>
  </tr>
  <% end %>
</table>

